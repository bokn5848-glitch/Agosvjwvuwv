<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>CÃ¢u Äá»‘ ThÃ¡ch NÃ£o</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f2f2f2;text-align:center;padding:20px}
.box{background:#fff;max-width:520px;margin:auto;padding:20px;border-radius:12px}
button{padding:10px;margin:6px;border:none;border-radius:8px;font-size:16px;color:#fff;background:#4CAF50}
.answer{display:block;width:100%;background:#2196F3}
#hint{color:#ff5722;font-weight:bold}
</style>
</head>
<body>

<div class="box" id="menu">
<h2>ğŸ§  CÃ‚U Äá» THÃCH NÃƒO</h2>
<button onclick="start('easy')">Dá»…</button>
<button onclick="start('medium')">Trung bÃ¬nh</button>
<button onclick="start('hard')">KhÃ³</button>
</div>

<div class="box" id="game" style="display:none">
<h3 id="question"></h3>
<div id="answers"></div>
<button onclick="useHint()">ğŸ’¡ Gá»£i Ã½ (-3 Ä‘iá»ƒm)</button>
<p id="hint"></p>
<p id="score"></p>
</div>

<script>
// ===== DOM =====
const menu=document.getElementById("menu");
const game=document.getElementById("game");
const question=document.getElementById("question");
const answers=document.getElementById("answers");
const scoreBox=document.getElementById("score");
const hintBox=document.getElementById("hint");

// ===== Ã‚M THANH =====
const ctx=new(window.AudioContext||window.webkitAudioContext)();
const beep=(f,d)=>{
const o=ctx.createOscillator(),g=ctx.createGain();
o.frequency.value=f;o.connect(g);g.connect(ctx.destination);
o.start();g.gain.setValueAtTime(0.3,ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+d);
o.stop(ctx.currentTime+d);
};

// ===== DATA =====
const questions=[];
const add=(t,c,o,l,h)=>questions.push({t,c,o,l,h});

// EASY 80
for(let i=1;i<=80;i++)
add(`(Dá»…) ${i} + ${i+1} = ?`,""+(i+i+1),
[""+(i+i+1),""+(i+i),""+(i+i+2),""+(i+i+3)],
"easy","Cá»™ng sá»‘ liÃªn tiáº¿p");

// MEDIUM 80
for(let i=1;i<=80;i++)
add(`(TB) Sá»‘ tiáº¿p theo: ${i}, ${i*2}, ${i*3}, ?`,
""+(i*4),
[""+(i*4),""+(i*5),""+(i*3),""+(i*6)],
"medium","NhÃ¢n tÄƒng dáº§n");

// HARD 80
for(let i=2;i<=81;i++)
add(`(KhÃ³) DÃ£y sá»‘: ${i}, ${i*2}, ${i*4}, ?`,
""+(i*8),
[""+(i*6),""+(i*8),""+(i*10),""+(i*12)],
"hard","NhÃ¢n Ä‘Ã´i");

// ===== GAME =====
let list=[],i=0,score=0,usedHint=false;

const shuffle=a=>{
for(let i=a.length-1;i>0;i--){
const j=Math.floor(Math.random()*(i+1));
[a[i],a[j]]=[a[j],a[i]];
}};

function start(level){
ctx.resume();
list=questions.filter(q=>q.l===level);
shuffle(list);
i=0;score=0;
menu.style.display="none";
game.style.display="block";
show();
}

function show(){
usedHint=false;
hintBox.innerText="";
if(i>=list.length){
question.innerText=`ğŸ‰ Xong! Äiá»ƒm: ${score}/${list.length}`;
answers.innerHTML=`<button onclick="location.reload()">ChÆ¡i láº¡i</button>`;
return;
}
const q=list[i];
question.innerText=q.t;
scoreBox.innerText=`CÃ¢u ${i+1}/${list.length} | Äiá»ƒm: ${score}`;
answers.innerHTML="";
q.o.forEach(x=>{
const b=document.createElement("button");
b.className="answer";b.innerText=x;
b.onclick=()=>{
x===q.c?(score++,beep(800,0.2)):beep(200,0.4);
i++;setTimeout(show,250);
};
answers.appendChild(b);
});
}

function useHint(){
if(usedHint) return;
score=Math.max(0,score-3);
hintBox.innerText="ğŸ’¡ "+list[i].h;
usedHint=true;
scoreBox.innerText=`CÃ¢u ${i+1}/${list.length} | Äiá»ƒm: ${score}`;
}
</script>

</body>
</html>
